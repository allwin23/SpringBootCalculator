spring:
  application:
    name: jumbotail-shipping
  
  # In a real production setup, this would point to a real Postgres/MySQL DB
  # Railway will inject these environment variables if you provision a database
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:h2:file:./data/shippingdb}
    driverClassName: ${SPRING_DATASOURCE_DRIVER_CLASS_NAME:org.h2.Driver}
    username: ${SPRING_DATASOURCE_USERNAME:sa}
    password: ${SPRING_DATASOURCE_PASSWORD:}
  
  h2:
    console:
      enabled: false # Ensure console is disabled in production
  
  jpa:
    hibernate:
      ddl-auto: update # Use update or validate in production
    show-sql: false # Disable raw SQL logging for performance

  cache:
    type: caffeine
    cache-names:
      - shippingEstimate
      - warehouseInventoryCheck
    caffeine:
      spec: maximumSize=500,expireAfterWrite=10m

server:
  port: ${PORT:9090}

# Expose actuator endpoints for Kubernetes / Docker compose healthchecks
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      probes:
        enabled: true
      show-details: always

logging:
  level:
    root: INFO
    com.jumbotail: INFO
